# plotjuggler-goby-plugins

This repository contains [PlotJuggler](https://github.com/facontidavide/PlotJuggler) plugins for using data from the [Goby3 project](https://goby.software/3.0/) that was recorded using `goby_logger` and then converted (as necessary) by the `goby_log_tool`.

## Build

To build, PlotJuggler must be installed in your system.

For instance, in Ubuntu, you should perform a full compilation and installation (e.g., to `/opt/plotjuggler`):

```
sudo apt -y install qtbase5-dev libqt5svg5-dev libqt5websockets5-dev libqt5opengl5-dev \
	libqt5x11extras5-dev libprotoc-dev libfmt-dev liblua5.3-dev
git clone --recurse-submodules https://github.com/facontidavide/PlotJuggler.git
cd PlotJuggler
mkdir build; cd build
cmake .. -DCMAKE_INSTALL_PREFIX=/opt/plotjuggler
make -j`nproc`
sudo make install
```

Then, build and install the plugin:
```
git clone https://github.com/GobySoft/plotjuggler-goby-plugins.git
cd plotjuggler-goby-plugins
mkdir build; cd build
cmake .. -Dplotjuggler_DIR=/opt/plotjuggler/lib/cmake/plotjuggler \
	-DCMAKE_INSTALL_PREFIX=/opt/plotjuggler
make -j`nproc`
sudo make install
```

## Plugin installation

The best way to do that is to install/copy the plugin in the same folder
where the executable `plotjuggler` is located (e.g., `/opt/plotjuggler/bin`), which will be done if the steps in Build, above, are followed.

Alternatively, there is a number of additional folders which will be
used to load plugins. Check **App->Preferences...** in PlotJuggler to learn more.

## Run


### Convert Goby log to JSON 
The current plugin uses JSON files generated by `goby_log_tool`, e.g.,

```
goby_log_tool --format=JSON --input_file=some.goby --output_file=some.json
```


### Run PlotJuggler and load JSON file

Run `/opt/plotjuggler/bin/plotjuggler` or add `/opt/plotjuggler/bin` to your `$PATH` and run `plotjuggler`.

Then use the `Load data from file` button under **File->Data** to load the JSON file, e.g., `some.json`